<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://cdn.nhandan.vn/assets/web/styles/img/favicon.ico" type="image/x-icon">
    <title>üéÅ L·ªùi Ch√∫c Gi√°ng Sinh üéÅ</title>
    <style>
        :root {
            --noel-red: #C0392B;
            --noel-green: #2ECC71;
            --noel-gold: #F39C12;
            --background-dark: #1E1E1E;
            --text-color: #ECF0F1;
        }

        body {
            background-color: var(--background-dark);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
            
            /* D√πng ·∫£nh ng∆∞·ªùi d√πng l√†m h√¨nh n·ªÅn */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
        }
        
        /* L·ªõp ph·ªß m·ªù (overlay) ƒë·ªÉ l√†m n·ªïi b·∫≠t ch·ªØ */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.85); /* L·ªõp ph·ªß ƒëen m·ªù */
            z-index: -1;
        }


        /* Khung ch·ª©a l·ªùi ch√∫c */
        #wish-box {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 50%; /* Khung h√¨nh tr√≤n */
            border: 5px solid var(--noel-red);
            transition: all 0.5s ease-in-out;
            max-width: 80%;
            cursor: pointer;
            z-index: 10;
        }

        #initial-message {
            font-size: 2em;
            font-weight: bold;
            color: var(--noel-gold);
            line-height: 1.2;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.7);
        }

        /* Khung ph·∫£n h·ªìi/C·∫£m ∆°n */
        #response-box {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--text-color);
            padding: 20px;
            margin-top: 30px;
            border-radius: 15px; /* Khung ch·ªØ nh·∫≠t c·∫°nh tr√≤n */
            border: 1px solid var(--noel-green);
            display: none; /* Ban ƒë·∫ßu ·∫©n */
            font-size: 1.2em;
            z-index: 10;
        }

        #final-wish {
            font-size: 2.5em;
            color: var(--noel-green);
            margin-top: 20px;
            display: none;
            font-weight: 900;
            z-index: 10;
        }
        
        .thank-you-button {
            background-color: var(--noel-red);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .thank-you-button:hover {
            background-color: #922B21;
        }

        /* Link li√™n k·∫øt c√° nh√¢n */
        #my-link {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            background-color: rgba(243, 156, 18, 0.8);
            border-radius: 10px;
            text-decoration: none;
            color: black;
            font-weight: bold;
            z-index: 10;
        }

    </style>
</head>
<body>

    <div id="wish-box" onclick="revealWish()">
        <p id="initial-message">
            C∆∞·ªùng ch√∫c m·ª´ng Gi√°ng sinh b·∫°n <span id="user-name-placeholder"></span>
        </p>
    </div>

    <h1 id="final-wish">GI√ÅNG SINH AN L√ÄNH! üéÖ</h1>
    
    <div id="response-box">
        <p>C∆∞·ªùng ƒë√£ ch√∫c m·ª´ng Gi√°ng sinh b·∫°n.</p>
        <p>B·∫°n c√≥ c·∫£m ∆°n C∆∞·ªùng kh√¥ng?</p>
        <button class="thank-you-button" onclick="showThankYou()">
            C√≥, c·∫£m ∆°n C∆∞·ªùng!
        </button>
    </div>
    
    <a id="my-link" href="#" target="_blank"></a>

    <script>
        // L·∫•y link li√™n k·∫øt c√° nh√¢n t·ª´ bi·∫øn ƒë√£ ƒë·ªãnh nghƒ©a
        const MY_LINK = 'https://www.facebook.com/bot.ahihi.505/'; 

        document.addEventListener('DOMContentLoaded', () => {
            const userName = localStorage.getItem('userName') || 'ng∆∞·ªùi b·∫°n th√¢n y√™u';
            const userImage = localStorage.getItem('userImage');
            
            const initialMessage = document.getElementById('initial-message');
            const userNamePlaceholder = document.getElementById('user-name-placeholder');
            const myLinkElement = document.getElementById('my-link');
            
            // Ch√®n t√™n ng∆∞·ªùi d√πng v√† c·∫•u h√¨nh h√¨nh n·ªÅn
            userNamePlaceholder.textContent = userName + "!"; 
            initialMessage.innerHTML = initialMessage.innerHTML.replace(' b·∫°n ', ' '); 

            if (userImage) {
                document.body.style.backgroundImage = `url('${userImage}')`;
            }

            // C·∫•u h√¨nh Link Li√™n k·∫øt d∆∞·ªõi ƒë√°y trang
            myLinkElement.href = MY_LINK;
            myLinkElement.textContent = 'Link Li√™n K·∫øt C·ªßa T√¥i';
        });
        
        let wishRevealed = false;

        function revealWish() {
            if (wishRevealed) return; 

            document.getElementById('final-wish').style.display = 'block';
            
            document.getElementById('wish-box').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('wish-box').style.display = 'none';
                document.getElementById('response-box').style.display = 'block';
            }, 500);
            
            wishRevealed = true;
        }
        
        // --- H√ÄM C·∫¨P NH·∫¨T ƒê·ªÇ HI·ªÇN TH·ªä LINK LI√äN K·∫æT C√Å NH√ÇN ---
        function showThankYou() {
             const responseBox = document.getElementById('response-box');
             responseBox.innerHTML = `
                <p>‚ù§Ô∏è C·∫£m ∆°n b·∫°n! Ch√∫c b·∫°n v√† gia ƒë√¨nh m·ªôt m√πa Gi√°ng sinh an l√†nh v√† h·∫°nh ph√∫c! ‚ù§Ô∏è
                    n·∫øu b·∫°n m√∫n c·∫£m ∆°n th√¨ ·ªü b√™n d∆∞·ªõi</p>
                
                <a class="thank-you-button" href="${MY_LINK}" target="_blank" style="text-decoration: none;">
                    c·∫£m ∆°n ·ªü ƒë√¢y
                </a>
             `;
             responseBox.style.backgroundColor = 'rgba(192, 57, 43, 0.3)';
             responseBox.style.borderColor = 'var(--noel-red)';
        }
        // -------------------------------------------------------------------
    </script>
</body>
</html>